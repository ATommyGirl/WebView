<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="">
    <style>
        body {
            margin: 0px;
        }

        #header {
            height: 44px;
            background-color: #4187C5;
        }

        #header .title {
            text-align: center;
            box-sizing: border-box;
            padding: 0px 40px;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            color: #fff;
            font-weight: bold;
            line-height: 44px;
        }
    </style>
</head>

<body>
    <header id="header">
        <div class="title">
        </div>
    </header>
    <div class="content">
        <a href="weixin://" title="Emily's Blog">Welcome</a>
        <button onclick=testAes() name="click me!!!">选我选我</button>
        <button onclick=testAes1() name="back me!!!">返回</button>
        <button onclick=openCamera() name="openCamera">拍照</button>
        <button onclick=scan() name="scan">扫一扫</button>
        <button onclick=scanFromImage() name="scanFromImage">识别图片中的二维码</button>

        <button onclick=testGetUserName() name="getUserName">获取用户名</button>
        <button onclick=testGetPassword() name="getPassword">获取密码</button>

        <button onclick=scriptMessageWithReply() name="setkey">错误设置</button>
        <button onclick=testSetValueForKey1() name="setkey">正确设置</button>
        <button onclick=logout() name="setkey">退出登录</button>
        <button onclick=openBDMap() name="setkey">打开百度地图</button>

        <a href="https://baidu.com/" target="_blank">使用HTML连接建立一个页面</a>
        <input type="file" accept="image/*" multiple>
        <input type="file" accept="image/*" capture="camera">
        <input type="file" accept="video/*" capture="camcorder">
    </div>

</body>

<script>
function testAes() {
    alert('逗你玩~');
}

function logout() {
    if (window.confirm("Do you really want to leave?")) {
        alert("Thanks for Visiting!");
    } else {
        alert("I love you!");
    }
}

function testGetUserName() {
    var sign = prompt("你是什么星座的?", "告诉我吧~");
    if (sign == "天蝎座") {
        alert("哇! 我跟天蝎座犯冲!");
    } else {
        alert("好吧，我是射手座!");
    }
}

function testGetPassword() {
    window.open(window.location.href);
}

function scriptMessageWithReply() {
    let promise = window.webkit.messageHandlers.YYWK.postMessage("Fulfill me with 42");
    promise.then(
        function(result) {
            alert('result' + result)
        },
        function(error) {
            alert('error' + error)
        }
    );
}

function aaa() {
    alert('hhh');
}

function testSetValueForKey1() {
<!--    window.open('weixin://');-->
    window.open('https://baidu.com');

<!--window.open('https://baidu.com', '_self');-->
<!--        window.open('https://baidu.com', '_system');-->
<!--        window.open('https://google.com', '_blank');-->

}

function testAes1() {
    window.webkit.messageHandlers.YYWK.postMessage(['MPWebView', 'close', []]);
}

function openCamera() {

}

function scan() {
}

function scanFromImage() {
    MPBarcodeScanner.recognizeFromImage(
        function (result) {
            alert("We got a barcode\n" +
                    "Result: " + result.text + "\n" +
                    "Format: " + result.format + "\n" +
                    "Cancelled: " + result.cancelled);
        },
        function (error) {
            alert("Scanning failed: " + error);
        }
    );
}

function openBDMap(){
    window.close();
}

function helloWorld(message) {
  console.log(message);
  return 'YES';
}

function GetQueryString(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return unescape(r[2]); return null;
}

var header = document.getElementById('header');
var headerColor = GetQueryString("colorName");
header.style.backgroundColor = '#' + headerColor;

</script>

</html>
